{{- /* MoeNet DN42 eBGP Peer Configuration Template */ -}}
# Auto-generated by moenet-agent - DO NOT EDIT MANUALLY
# Peer: AS{{.ASN}} ({{.Name}})
# Generated: {{.GeneratedAt}}

protocol bgp dn42_{{.ASN}} from ebgp_{{if .IPv6Only}}v6{{else}}v4v6{{end}} {
    description "{{.Description}}";
    neighbor {{.NeighborAddr}} as {{.ASN}};
    {{- if .Multihop}}
    multihop {{.Multihop}};
    {{- end}}
    {{- if .Password}}
    password "{{.Password}}";
    {{- end}}
    source address {{.SourceAddr}};
    
    {{- if .IPv4Enabled}}
    ipv4 {
        import filter {
            dn42_import_filter({{.ASN}}, {{.LatencyTier}}, {{.BandwidthCommunity}});
        };
        export filter {
            dn42_export_filter({{.ASN}});
        };
    };
    {{- end}}
    
    {{- if .IPv6Enabled}}
    ipv6 {
        import filter {
            dn42_import_filter({{.ASN}}, {{.LatencyTier}}, {{.BandwidthCommunity}});
        };
        export filter {
            dn42_export_filter({{.ASN}});
        };
    };
    {{- end}}
}
